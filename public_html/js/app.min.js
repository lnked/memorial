function sprintf(e){var t=e.toString().split("."),n="00",a=[],o=null;for(o in t)a.push(n.substring(0,2-t[o].toString().length)+t[o]);return a.join(".")}var app=app||{};!function(e){"use strict";app={initPopup:function(){var e=$("#overlay");$.popup.init(".js-open-popup",{cssPosition:!1,wrapper:".layout-wrapper"}),$("body").on("click",".j-open-popup",function(t){t.preventDefault();var n="",a=null,o="";return n=$(this).attr("href"),n&&(n="tmpl-"+n.substr(1)),$(this).data("title")&&(o=$(this).data("title")),a=$(template(n,{header:o})),a.addClass("temp"),$("body").append(a),e.addClass("visible"),setTimeout(function(){e.addClass("animate"),$.popup.show(a)},10),!1})},warning:function(){$("body").on("click",function(e){$(".j-warning-block._open").length&&($(e.target).closest(".j-warning-block").length||$(e.target).hasClass(".j-warning-block")||$(".j-warning-block._open").removeClass("_open"))}),$("body").on("click",".j-warning-trigger",function(){$(this).closest(".j-warning-block").toggleClass("_open")})},navigation:function(){$("body").on("mouseenter",".navigation__item",function(e){if($(window).width()>1120){var t=$(this);t.find(".submenu").length&&!t.hasClass("is-active")&&($(".navigation__item.is-active").removeClass("is-active"),t.addClass("is-active"))}}),$("body").on("click",".navigation__link",function(e){if($(window).width()<=1120){var t=$(this).closest(".navigation__item");if(t.find(".submenu").length)return e.preventDefault(),t.find(".submenu").find(".submenu__backuri").length||t.find(".submenu").append('<div class="submenu__backuri">Назад</div>'),t.find(".submenu").find(".submenu__backuri").on("click",function(){return e.preventDefault(),$(this).closest(".is-open").removeClass("is-open"),!1}),t.addClass("is-open"),!1}}),$("body").on("mouseleave",".navigation__item",function(e){$(".navigation__item.is-active").removeClass("is-active")})},init:function(){this.navigation(),this.initPopup(),this.warning(),this.map.init(),this.tabs.init(),this.slider.init(),this.sandwich.init(),this.gallery.init()}}}(document.body);var app=app||{};!function(e){"use strict";var t;app.ajaxForm={config:{form_class:".form-ajax",form_reset:"form-reset",link_class:".js-request-link",error_class:"error",error_message:"form__error-message",error_message_class:"j-error-message",error_message_addclass:"show",form_label:".form__wrapper",checkbox_label:"checkbox__label"},callback_stack:{},extend:function(e){if(t=this,"undefined"!=typeof e){var n;for(n in e)"undefined"!=typeof t.config[n]&&(t.config[n]=e[n])}},default_handler:function(e,n){if(t=this,n.status)n.hasOwnProperty("redirect_url")&&(window.location.href=n.redirect_url);else if("undefined"!=typeof n.errors||"undefined"!=typeof n.error_message){var a,o;"undefined"!=typeof n.errors&&(a=n.errors),"undefined"!=typeof n.error_message&&(o=n.error_message),t.validation(e,a,n.error_message)}n.hasOwnProperty("open_popup")&&($("body").find(".popup.is-open").length?$.popup.close($("body").find(".popup.is-open"),function(){$.popup.open(n.open_popup)}):$.popup.open(n.open_popup)),n.hasOwnProperty("message")&&$.popup.message(n.title,n.message)},validation:function(e,n,a){t=this,e.find("."+t.config.error_class).removeClass(t.config.error_class),e.find("."+t.config.error_message).remove(),e.find("."+t.config.error_message_class).removeClass(t.config.error_message_addclass);var o,i;setTimeout(function(){if("undefined"!=typeof a&&""!==a&&(e.find("."+t.config.error_message_class).html(a),e.find("."+t.config.error_message_class).addClass(t.config.error_message_addclass)),"undefined"!=typeof n&&""!==n)for(o in n)e.find('input[name="'+o+'"]').length>0&&(i=e.find('input[name="'+o+'"]')),e.find('select[name="'+o+'"]').length>0&&(i=e.find('select[name="'+o+'"]')),e.find('textarea[name="'+o+'"]').length>0&&(i=e.find('textarea[name="'+o+'"]')),i.closest("."+t.config.checkbox_label).length>0&&(i=i.closest("."+t.config.checkbox_label)),"undefined"!=typeof i&&(i.addClass(t.config.error_class),i.closest(t.config.form_label).append('<div class="'+t.config.error_message+'">'+n[o]+"</div>"))},10)},upload:function(){t=this,$("body").on("submit",".form-file-upload",function(e){return AIM.submit(this,{onStart:function(){},onComplete:function(e){"object"==typeof e&&e.status===!0&&e.hasOwnProperty("photo_url")}})}),$(document).on("change",".upload_button_onchange",function(){$(this).closest(".upload_button").find(".upload_button_field").length>0&&$(this).closest(".upload_button").find(".upload_button_field").html($(this).val())})},send:function(e,t,n,a,o){"function"!=typeof a&&(a=function(){}),"function"!=typeof o&&(o=function(){});try{$.ajax({url:e,type:t,data:n,contentType:!1,processData:"get"==t.toLowerCase(),success:a,error:o,dataType:"JSON"})}catch(i){}},initLink:function(){t=this,$("body").on("click",t.config.link_class,function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var n=$(this);if(!n.data("is-busy")){n.data("is-busy",!0);var a=$(this).attr("href")||$(this).data("action"),o=$(this).data("method")||"get",i={};t.send(a,o,i,function(e){n.data("callback")&&t.callback_stack.hasOwnProperty(n.data("callback"))?t.callback_stack[n.data("callback")](n,e):t.default_handler(n,e),e.status===!0,n.data("is-busy",!1)},function(e){t.default_handler(n,e),n.data("is-busy",!1)})}})},initForm:function(){t=this,$("body").on("submit",t.config.form_class,function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var n=$(this),a=n.attr("action"),o=n.attr("method")||"post",i=window.FormData?new FormData(n[0]):n.serialize();if(!n.data("is-busy"))return n.data("is-busy",!0),"undefined"!=typeof button&&(button.data("loading")&&(button.data("original",button.text()),button.text(button.data("loading"))),button.addClass("preload")),!(n.data("precallback")&&t.callback_stack.hasOwnProperty(n.data("precallback"))&&!t.callback_stack[n.data("precallback")](n))&&void t.send(a,o,i,function(e){n.data("callback")&&t.callback_stack.hasOwnProperty(n.data("callback"))?t.callback_stack[n.data("callback")](n,e):t.default_handler(n,e),e.status===!0&&n.hasClass(t.config.form_reset)&&(n.find("."+t.config.error_class).removeClass(t.config.error_class),n.get(0).reset()),"undefined"!=typeof button&&(button.data("original")&&button.text(button.data("original")),button.removeClass("preload")),n.data("is-busy",!1)},function(e){t.default_handler(n,e),n.data("is-busy",!1)})})},init:function(e){this.extend(e),this.initForm(),this.initLink()}},app.ajaxForm.init()}(document.body);var app=app||{};!function(e){"use strict";app.faq={init:function(){$("body").on("click",".j-faq-trigger",function(e){e.preventDefault();var t=$(this).closest(".j-faq");return t.toggleClass("_open"),!1})}}}(document.body);var app=app||{};!function(e){"use strict";app.gallery={init:function(){$(".j-gallery").magnificPopup({type:"image",delegate:"a.zoom",removalDelay:500,fixedContentPos:!1,closeOnBgClick:!0,gallery:{enabled:!0},callbacks:{open:function(){$("body").addClass("noscroll")},close:function(){$("body").removeClass("noscroll")}}})}}}(document.body);var app=app||{};!function(e){"use strict";app.map={_mapObject:null,_geoObject:null,getData:function(e){var t,n=null,a=null;if(e.data("coords")){a=e.data("coords").split(",");for(t in a)a[t]=$.trim(a[t]);2!==a.length&&(a=null)}return e.attr("id")&&(n=e.attr("id")),{id:n,coords:a}},drowMap:function(e){var t=this,n=this.getData(e);ymaps.ready(function(){t._mapObject=new ymaps.Map(n.id,{center:[n.coords[0],n.coords[1]],zoom:13,controls:["smallMapDefaultSet"]}),t._mapObject.behaviors.disable("scrollZoom"),t._mapObject.controls.get("zoomControl").options.set("size","small"),t._mapObject.controls.get("zoomControl").options.set("position",{right:10,top:50}),t._mapObject.geoObjects.add(new ymaps.Placemark([n.coords[0],n.coords[1]],{},{preset:"islands#dotIcon",iconColor:"#1e98ff"}))})},init:function(){var e=this;$(".j-map").length&&$(".j-map").each(function(){e.drowMap($(this))})}}}(document.body);var app=app||{};!function(e){"use strict";var t;app.sandwich={config:{keyHooks:!1,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:".overlay"},extend:function(e){if(t=this,"undefined"!=typeof e){var n;for(n in e)"undefined"!=typeof t.config[n]&&(t.config[n]=e[n])}},isOpen:function(){return $("body").hasClass("page-visible")},hide:function(){$("body").removeClass("page-open"),setTimeout(function(){$("body").removeClass("page-visible")},10),$(this.config.overlay).css({visibility:"hidden"})},toggle:function(){$("body").hasClass("page-visible")?($("body").removeClass("page-open"),setTimeout(function(){$("body").removeClass("page-visible")},200)):($("body").addClass("page-open"),setTimeout(function(){$("body").addClass("page-visible")},10));var e="visible";$("body").hasClass("page-open")||(e="hidden"),$(t.config.overlay).css({visibility:e})},sandwichTrigger:function(){t=this,t.config.keyHooks&&$("body").on("keydown",function(e){27==e.keyCode&&t.isOpen()&&t.toggle()}),$("body").on("click",t.config.selector,function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,t.toggle()})},overlayTrigger:function(){t=this,$("body").on("click",t.config.overlay,function(e){t.hide()})},init:function(e){this.extend(e),this.sandwichTrigger(),this.overlayTrigger()}}}(document.body);var app=app||{};!function(e){"use strict";app.slider={init:function(){if($(".j-slider").length&&$(".j-slider").find(".slick-slide").length){var e=1,t="slider",n="",a=$(window).width(),o={};$(".j-slider").each(function(){e=1,t="slider",o={fade:!0,dots:!0,speed:500,infinite:!0,autoplay:!1,draggable:!0,autoplaySpeed:6500,pauseOnHover:!1,useTransform:!1,variableWidth:!1,cssEase:"linear"},n=$(this),n.on("beforeChange",function(e,t,n,a){$(t.$slides[n]),$(t.$slides[a]);console.log(n,a)}),n.on("afterChange",function(e,t,n){$(t.$slides[n]);console.log(n)}),n.data("viewcount")&&(e=parseInt(n.data("viewcount"))),n.hasClass("j-slider-calc")&&n.find(".slick-slide").css({width:a+"px"}),n.data("classname")&&(t=n.data("classname")),n.hasClass("j-disable-navigation")?o.arrows=!1:(o.prevArrow='<button type="button" class="slider__nav _prev slick-prev"></button>',o.nextArrow='<button type="button" class="slider__nav _next slick-next"></button>'),n.slick(o)})}}}}(document.body);var app=app||{};!function(e){"use strict";app.tabs={init:function(){var e=null,t="";$("body").on("click",".j-tab-trigger",function(n){return n.preventDefault(),$(this).hasClass("_open")||(t=$(this).data("tab"),e=$(this).closest(".j-tab-wrapper"),e.find(".j-tab-trigger").removeClass("_current"),e.find(".j-tab-item").removeClass("_open"),e.find("#tab-"+t).addClass("_open"),$(this).addClass("_current")),!1})}}}(document.body);var app=app||{};!function(e){"use strict";app.zoom={init:function(){var e=null,t="";$(".j-preview").on("click",function(n){return n.preventDefault(),t=$.trim($(this).attr("href")),""===t||$(this).hasClass("_current")||(e=$(this).closest(".j-zoom").find(".j-zoom-image"),e.html(['<a href="',t,'" class="product-item__preview__zoom__image" itemprop="image">','<img src="',t,'" itemprop="contentUrl" alt="image name">',"</a>"].join("")),$(".j-preview").removeClass("_current"),$(this).addClass("_current")),!1})}}}(document.body),$(document).ready(function(){app.init()});