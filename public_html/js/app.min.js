function sprintf(t){var e=t.toString().split("."),a="00",n=[],o=null;for(o in e)n.push(a.substring(0,2-e[o].toString().length)+e[o]);return n.join(".")}var app=app||{};!function(t){"use strict";app={initPopup:function(){$.popup.init(".j-open-popup",{cssPosition:!1,wrapper:".layout-wrapper"})},warning:function(){$("body").on("click",function(t){$(".j-warning-block._open").length&&($(t.target).closest(".j-warning-block").length||$(t.target).hasClass(".j-warning-block")||$(".j-warning-block._open").removeClass("_open"))}),$("body").on("click",".j-warning-trigger",function(){$(this).closest(".j-warning-block").toggleClass("_open")})},init:function(){this.initPopup(),this.warning(),this.map.init(),this.tabs.init(),this.gallery.init()}}}(document.body);var app=app||{};!function(t){"use strict";var e;app.ajaxForm={config:{form_class:".form-ajax",form_reset:"form-reset",link_class:".js-request-link",error_class:"error",error_message:"form__error-message",error_message_class:"j-error-message",error_message_addclass:"show",form_label:".form__wrapper",checkbox_label:"checkbox__label"},callback_stack:{},extend:function(t){if(e=this,"undefined"!=typeof t){var a;for(a in t)"undefined"!=typeof e.config[a]&&(e.config[a]=t[a])}},default_handler:function(t,a){if(e=this,a.status)a.hasOwnProperty("redirect_url")&&(window.location.href=a.redirect_url);else if("undefined"!=typeof a.errors||"undefined"!=typeof a.error_message){var n,o;"undefined"!=typeof a.errors&&(n=a.errors),"undefined"!=typeof a.error_message&&(o=a.error_message),e.validation(t,n,a.error_message)}a.hasOwnProperty("open_popup")&&($("body").find(".popup.is-open").length?$.popup.close($("body").find(".popup.is-open"),function(){$.popup.open(a.open_popup)}):$.popup.open(a.open_popup)),a.hasOwnProperty("message")&&$.popup.message(a.title,a.message)},validation:function(t,a,n){e=this,t.find("."+e.config.error_class).removeClass(e.config.error_class),t.find("."+e.config.error_message).remove(),t.find("."+e.config.error_message_class).removeClass(e.config.error_message_addclass);var o,s;setTimeout(function(){if("undefined"!=typeof n&&""!==n&&(t.find("."+e.config.error_message_class).html(n),t.find("."+e.config.error_message_class).addClass(e.config.error_message_addclass)),"undefined"!=typeof a&&""!==a)for(o in a)t.find('input[name="'+o+'"]').length>0&&(s=t.find('input[name="'+o+'"]')),t.find('select[name="'+o+'"]').length>0&&(s=t.find('select[name="'+o+'"]')),t.find('textarea[name="'+o+'"]').length>0&&(s=t.find('textarea[name="'+o+'"]')),s.closest("."+e.config.checkbox_label).length>0&&(s=s.closest("."+e.config.checkbox_label)),"undefined"!=typeof s&&(s.addClass(e.config.error_class),s.closest(e.config.form_label).append('<div class="'+e.config.error_message+'">'+a[o]+"</div>"))},10)},upload:function(){e=this,$("body").on("submit",".form-file-upload",function(t){return AIM.submit(this,{onStart:function(){},onComplete:function(t){"object"==typeof t&&t.status===!0&&t.hasOwnProperty("photo_url")}})}),$(document).on("change",".upload_button_onchange",function(){$(this).closest(".upload_button").find(".upload_button_field").length>0&&$(this).closest(".upload_button").find(".upload_button_field").html($(this).val())})},send:function(t,e,a,n,o){"function"!=typeof n&&(n=function(){}),"function"!=typeof o&&(o=function(){});try{$.ajax({url:t,type:e,data:a,contentType:!1,processData:"get"==e.toLowerCase(),success:n,error:o,dataType:"JSON"})}catch(s){}},initLink:function(){e=this,$("body").on("click",e.config.link_class,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var a=$(this);if(!a.data("is-busy")){a.data("is-busy",!0);var n=$(this).attr("href")||$(this).data("action"),o=$(this).data("method")||"get",s={};e.send(n,o,s,function(t){a.data("callback")&&e.callback_stack.hasOwnProperty(a.data("callback"))?e.callback_stack[a.data("callback")](a,t):e.default_handler(a,t),t.status===!0,a.data("is-busy",!1)},function(t){e.default_handler(a,t),a.data("is-busy",!1)})}})},initForm:function(){e=this,$("body").on("submit",e.config.form_class,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var a=$(this),n=a.attr("action"),o=a.attr("method")||"post",s=window.FormData?new FormData(a[0]):a.serialize();if(!a.data("is-busy"))return a.data("is-busy",!0),"undefined"!=typeof button&&(button.data("loading")&&(button.data("original",button.text()),button.text(button.data("loading"))),button.addClass("preload")),!(a.data("precallback")&&e.callback_stack.hasOwnProperty(a.data("precallback"))&&!e.callback_stack[a.data("precallback")](a))&&void e.send(n,o,s,function(t){a.data("callback")&&e.callback_stack.hasOwnProperty(a.data("callback"))?e.callback_stack[a.data("callback")](a,t):e.default_handler(a,t),t.status===!0&&a.hasClass(e.config.form_reset)&&(a.find("."+e.config.error_class).removeClass(e.config.error_class),a.get(0).reset()),"undefined"!=typeof button&&(button.data("original")&&button.text(button.data("original")),button.removeClass("preload")),a.data("is-busy",!1)},function(t){e.default_handler(a,t),a.data("is-busy",!1)})})},init:function(t){this.extend(t),this.initForm(),this.initLink()}},app.ajaxForm.init()}(document.body);var app=app||{};!function(t){"use strict";app.faq={init:function(){$("body").on("click",".j-faq-trigger",function(t){t.preventDefault();var e=$(this).closest(".j-faq");return e.toggleClass("_open"),!1})}}}(document.body);var app=app||{};!function(t){"use strict";app.gallery={init:function(){$(".j-gallery").magnificPopup({type:"image",delegate:"a.zoom",removalDelay:500,fixedContentPos:!1,closeOnBgClick:!0,gallery:{enabled:!0},callbacks:{open:function(){$("body").addClass("noscroll")},close:function(){$("body").removeClass("noscroll")}}})}}}(document.body);var app=app||{};!function(t){"use strict";app.map={_mapObject:null,_geoObject:null,getData:function(t){var e,a=null,n=null;if(t.data("coords")){n=t.data("coords").split(",");for(e in n)n[e]=$.trim(n[e]);2!==n.length&&(n=null)}return t.attr("id")&&(a=t.attr("id")),{id:a,coords:n}},drowMap:function(t){var e=this,a=this.getData(t);ymaps.ready(function(){e._mapObject=new ymaps.Map(a.id,{center:[a.coords[0],a.coords[1]],zoom:13,controls:["smallMapDefaultSet"]}),e._mapObject.behaviors.disable("scrollZoom"),e._mapObject.controls.get("zoomControl").options.set("size","small"),e._mapObject.controls.get("zoomControl").options.set("position",{right:10,top:50}),e._mapObject.geoObjects.add(new ymaps.Placemark([a.coords[0],a.coords[1]],{},{preset:"islands#dotIcon",iconColor:"#1e98ff"}))})},init:function(){var t=this;$(".j-map").length&&$(".j-map").each(function(){t.drowMap($(this))})}}}(document.body);var app=app||{};!function(t){"use strict";app.tabs={init:function(){var t=null,e="";$("body").on("click",".j-tab-trigger",function(a){return a.preventDefault(),$(this).hasClass("_open")||(e=$(this).data("tab"),t=$(this).closest(".j-tab-wrapper"),t.find(".j-tab-trigger").removeClass("_current"),t.find(".j-tab-item").removeClass("_open"),t.find("#tab-"+e).addClass("_open"),$(this).addClass("_current")),!1})}}}(document.body);var app=app||{};!function(t){"use strict";app.zoom={init:function(){var t=null,e="";$(".j-preview").on("click",function(a){return a.preventDefault(),e=$.trim($(this).attr("href")),""===e||$(this).hasClass("_current")||(t=$(this).closest(".j-zoom").find(".j-zoom-image"),t.html(['<a href="',e,'" class="product-item__preview__zoom__image" itemprop="image">','<img src="',e,'" itemprop="contentUrl" alt="image name">',"</a>"].join("")),$(".j-preview").removeClass("_current"),$(this).addClass("_current")),!1})}}}(document.body),$(document).ready(function(){app.init()});