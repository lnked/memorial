function sprintf(t){var e=t.toString().split("."),n="00",a=[],o=null;for(o in e)a.push(n.substring(0,2-e[o].toString().length)+e[o]);return a.join(".")}var app=app||{};!function(t){"use strict";app={initPopup:function(){var t=$("#overlay");$.popup.init(".js-open-popup",{cssPosition:!1,wrapper:".layout-wrapper"}),$("body").on("click",".j-open-popup",function(e){e.preventDefault();var n="",a=null,o="";return n=$(this).attr("href"),n&&(n="tmpl-"+n.substr(1)),$(this).data("title")&&(o=$(this).data("title")),a=$(template(n,{header:o})),a.addClass("temp"),a.find('input[name="title_form"]').val(o),$("body").append(a),t.addClass("visible"),setTimeout(function(){t.addClass("animate"),$.popup.show(a)},10),!1})},warning:function(){$("body").on("click",function(t){$(".j-warning-block._open").length&&($(t.target).closest(".j-warning-block").length||$(t.target).hasClass(".j-warning-block")||$(".j-warning-block._open").removeClass("_open"))}),$("body").on("click",".j-warning-trigger",function(){$(this).closest(".j-warning-block").toggleClass("_open")})},navigation:function(){$("body").on("mouseenter",".navigation__item",function(t){if($(window).width()>1120){var e=$(this);e.find(".submenu").length&&!e.hasClass("is-active")&&($(".navigation__item.is-active").removeClass("is-active"),e.addClass("is-active"))}}),$("body").on("click",".navigation__link",function(t){if($(window).width()<=1120){var e=$(this).closest(".navigation__item");if(e.find(".submenu").length)return t.preventDefault(),e.find(".submenu").find(".submenu__backuri").length||e.find(".submenu").append('<div class="submenu__backuri">Назад</div>'),e.find(".submenu").find(".submenu__backuri").on("click",function(){return t.preventDefault(),$(this).closest(".is-open").removeClass("is-open"),!1}),e.addClass("is-open"),!1}}),$("body").on("mouseleave",".navigation__item",function(t){$(".navigation__item.is-active").removeClass("is-active")})},init:function(){this.navigation(),this.initPopup(),this.warning(),this.map.init(),this.tabs.init(),this.slider.init(),this.sandwich.init(),this.gallery.init()}}}(document.body);var app=app||{};!function(t){"use strict";var e;app.ajaxForm={config:{form_class:".form-ajax",form_reset:"form-reset",link_class:".js-request-link",error_class:"error",error_message:"form__error-message",error_message_class:"j-error-message",error_message_addclass:"show",form_label:".form__wrapper",checkbox_label:"checkbox__label"},callback_stack:{},extend:function(t){if(e=this,"undefined"!=typeof t){var n;for(n in t)"undefined"!=typeof e.config[n]&&(e.config[n]=t[n])}},default_handler:function(t,n){if(e=this,n.status)n.hasOwnProperty("redirect_url")&&(window.location.href=n.redirect_url);else if("undefined"!=typeof n.errors||"undefined"!=typeof n.error_message){var a,o;"undefined"!=typeof n.errors&&(a=n.errors),"undefined"!=typeof n.error_message&&(o=n.error_message),e.validation(t,a,o)}if(n.hasOwnProperty("run_script")&&"function"==typeof window[n.run_script]&&window[n.run_script](),n.hasOwnProperty("open_popup")&&($("body").find(".popup.is-open").length?$.popup.close($("body").find(".popup.is-open"),function(){$.popup.open(n.open_popup)}):$.popup.open(n.open_popup)),n.hasOwnProperty("message")){var i="";n.hasOwnProperty("title")&&(i=n.title),$.popup.close(),$.popup.message(i,n.message)}},validation:function(t,n,a){e=this,t.find("."+e.config.error_class).removeClass(e.config.error_class),t.find("."+e.config.error_message_class).removeClass(e.config.error_message_addclass);var o,i;setTimeout(function(){if("undefined"!=typeof a&&""!==a&&(t.find("."+e.config.error_message_class).html(a),t.find("."+e.config.error_message_class).addClass(e.config.error_message_addclass)),"undefined"!=typeof n&&""!==n)for(o in n)t.find('input[name="'+o+'"]').length>0&&(i=t.find('input[name="'+o+'"]')),t.find('select[name="'+o+'"]').length>0&&(i=t.find('select[name="'+o+'"]')),t.find('textarea[name="'+o+'"]').length>0&&(i=t.find('textarea[name="'+o+'"]')),i.closest("."+e.config.checkbox_label).length>0&&(i=i.closest("."+e.config.checkbox_label)),"undefined"!=typeof i&&(i.addClass(e.config.error_class),i.closest(e.config.form_label).append('<div class="'+e.config.error_message+'">'+n[o]+"</div>"))},10)},upload:function(){e=this,$("body").on("submit",".form-file-upload",function(t){return AIM.submit(this,{onStart:function(){},onComplete:function(t){"object"==typeof t&&t.status===!0&&t.hasOwnProperty("photo_url")}})}),$(document).on("change",".upload_button_onchange",function(){$(this).closest(".upload_button").find(".upload_button_field").length>0&&$(this).closest(".upload_button").find(".upload_button_field").html($(this).val())})},send:function(t,e,n,a,o){"function"!=typeof a&&(a=function(){}),"function"!=typeof o&&(o=function(){});try{$.ajax({url:t,type:e,data:n,contentType:!1,processData:"get"==e.toLowerCase(),success:a,error:o,dataType:"JSON"})}catch(i){}},initLink:function(){e=this,$("body").on("click",e.config.link_class,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var n=$(this);if(!n.data("is-busy")){n.data("is-busy",!0);var a=$(this).attr("href")||$(this).data("action"),o=$(this).data("method")||"get",i={};e.send(a,o,i,function(t){n.data("callback")&&e.callback_stack.hasOwnProperty(n.data("callback"))?e.callback_stack[n.data("callback")](n,t):e.default_handler(n,t),t.status===!0,n.data("is-busy",!1)},function(t){e.default_handler(n,t),n.data("is-busy",!1)})}})},initForm:function(){e=this,$("body").on("submit",e.config.form_class,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var n=$(this),a=n.attr("action"),o=n.attr("method")||"post",i=window.FormData?new FormData(n[0]):n.serialize();if(!n.data("is-busy"))return n.data("is-busy",!0),"undefined"!=typeof button&&(button.data("loading")&&(button.data("original",button.text()),button.text(button.data("loading"))),button.addClass("preload")),!(n.data("precallback")&&e.callback_stack.hasOwnProperty(n.data("precallback"))&&!e.callback_stack[n.data("precallback")](n))&&void e.send(a,o,i,function(t){n.data("callback")&&e.callback_stack.hasOwnProperty(n.data("callback"))?e.callback_stack[n.data("callback")](n,t):e.default_handler(n,t),t.status===!0&&n.hasClass(e.config.form_reset)&&(n.find("."+e.config.error_class).removeClass(e.config.error_class),n.get(0).reset()),"undefined"!=typeof button&&(button.data("original")&&button.text(button.data("original")),button.removeClass("preload")),n.data("is-busy",!1)},function(t){e.default_handler(n,t),n.data("is-busy",!1)})})},init:function(t){this.extend(t),this.initForm(),this.initLink()}},app.ajaxForm.init()}(document.body);var app=app||{};!function(t){"use strict";app.faq={init:function(){$("body").on("click",".j-faq-trigger",function(t){t.preventDefault();var e=$(this).closest(".j-faq");return e.toggleClass("_open"),!1})}}}(document.body);var app=app||{};!function(t){"use strict";app.gallery={init:function(){$(".j-gallery").magnificPopup({type:"image",delegate:"a.zoom",removalDelay:500,fixedContentPos:!1,closeOnBgClick:!0,gallery:{enabled:!0},callbacks:{open:function(){$("body").addClass("noscroll")},close:function(){$("body").removeClass("noscroll")}}})}}}(document.body);var app=app||{};!function(t){"use strict";app.map={_mapObject:null,_geoObject:null,getData:function(t){var e,n=null,a=null;if(t.data("coords")){a=t.data("coords").split(",");for(e in a)a[e]=$.trim(a[e]);2!==a.length&&(a=null)}return t.attr("id")&&(n=t.attr("id")),{id:n,coords:a}},drowMap:function(t){var e=this,n=this.getData(t);ymaps.ready(function(){e._mapObject=new ymaps.Map(n.id,{center:[n.coords[0],n.coords[1]],zoom:13,controls:["smallMapDefaultSet"]}),e._mapObject.behaviors.disable("scrollZoom"),e._mapObject.controls.get("zoomControl").options.set("size","small"),e._mapObject.controls.get("zoomControl").options.set("position",{right:10,top:50}),e._mapObject.geoObjects.add(new ymaps.Placemark([n.coords[0],n.coords[1]],{},{preset:"islands#dotIcon",iconColor:"#1e98ff"}))})},init:function(){var t=this;$(".j-map").length&&$(".j-map").each(function(){t.drowMap($(this))})}}}(document.body);var app=app||{};!function(t){"use strict";var e;app.sandwich={config:{keyHooks:!1,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:".overlay"},extend:function(t){if(e=this,"undefined"!=typeof t){var n;for(n in t)"undefined"!=typeof e.config[n]&&(e.config[n]=t[n])}},isOpen:function(){return $("body").hasClass("page-visible")},hide:function(){$("body").removeClass("page-open"),setTimeout(function(){$("body").removeClass("page-visible")},10),$(this.config.overlay).css({visibility:"hidden"})},toggle:function(){$("body").hasClass("page-visible")?($("body").removeClass("page-open"),setTimeout(function(){$("body").removeClass("page-visible")},200)):($("body").addClass("page-open"),setTimeout(function(){$("body").addClass("page-visible")},10));var t="visible";$("body").hasClass("page-open")||(t="hidden"),$(e.config.overlay).css({visibility:t})},sandwichTrigger:function(){e=this,e.config.keyHooks&&$("body").on("keydown",function(t){27==t.keyCode&&e.isOpen()&&e.toggle()}),$("body").on("click",e.config.selector,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,e.toggle()})},overlayTrigger:function(){e=this,$("body").on("click",e.config.overlay,function(t){e.hide()})},init:function(t){this.extend(t),this.sandwichTrigger(),this.overlayTrigger()}}}(document.body);var app=app||{};!function(t){"use strict";app.slider={init:function(){if($(".j-slider").length&&$(".j-slider").find(".slick-slide").length){var t=1,e="slider",n="",a=$(window).width(),o={};$(".j-slider").each(function(){t=1,e="slider",o={fade:!0,dots:!0,speed:500,infinite:!0,autoplay:!1,draggable:!0,autoplaySpeed:6500,pauseOnHover:!1,useTransform:!1,variableWidth:!1,cssEase:"linear"},n=$(this),n.on("beforeChange",function(t,e,n,a){$(e.$slides[n]),$(e.$slides[a]);console.log(n,a)}),n.on("afterChange",function(t,e,n){$(e.$slides[n]);console.log(n)}),n.data("viewcount")&&(t=parseInt(n.data("viewcount"))),n.hasClass("j-slider-calc")&&n.find(".slick-slide").css({width:a+"px"}),n.data("classname")&&(e=n.data("classname")),n.hasClass("j-disable-navigation")?o.arrows=!1:(o.prevArrow='<button type="button" class="slider__nav _prev slick-prev"></button>',o.nextArrow='<button type="button" class="slider__nav _next slick-next"></button>'),n.slick(o)})}}}}(document.body);var app=app||{};!function(t){"use strict";app.tabs={init:function(){var t=null,e="";$("body").on("click",".j-tab-trigger",function(n){return n.preventDefault(),$(this).hasClass("_open")||(e=$(this).data("tab"),t=$(this).closest(".j-tab-wrapper"),t.find(".j-tab-trigger").removeClass("_current"),t.find(".j-tab-item").removeClass("_open"),t.find("#tab-"+e).addClass("_open"),$(this).addClass("_current")),!1})}}}(document.body);var app=app||{};!function(t){"use strict";app.zoom={init:function(){var t=null,e="";$(".j-preview").on("click",function(n){return n.preventDefault(),e=$.trim($(this).attr("href")),""===e||$(this).hasClass("_current")||(t=$(this).closest(".j-zoom").find(".j-zoom-image"),t.html(['<a href="',e,'" class="product-item__preview__zoom__image" itemprop="image">','<img src="',e,'" itemprop="contentUrl" alt="image name">',"</a>"].join("")),$(".j-preview").removeClass("_current"),$(this).addClass("_current")),!1})}}}(document.body),$(document).ready(function(){app.init()});